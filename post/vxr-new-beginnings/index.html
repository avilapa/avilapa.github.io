<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        
        <meta name="twitter:card" content="summary_large_image"/>
        <meta name="twitter:image" content="/content/images/2018/sep/vxr/new-beginnings.png"/>
    



<meta name="twitter:title" content="VXR: New beginnings"/>
<meta name="twitter:description" content="First blog post of the development process of the VXR engine."/>
<meta name="twitter:site" content="@97torvic"/>



  	<meta property="og:title" content="VXR: New beginnings &middot; Víctor Ávila" />
  	<meta property="og:site_name" content="Víctor Ávila" />
  	<meta property="og:url" content="https://avilapa.github.io/post/vxr-new-beginnings/" />

    
       <meta property="og:image" content="/content/images/2018/sep/vxr/new-beginnings.png"/>
    

    
    <meta property="og:description" content="First blog post of the development process of the VXR engine." />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2018-09-01T00:00:00Z" />

    
    <meta property="article:tag" content="vxr" />
    
    <meta property="article:tag" content="engine" />
    
    

    <title>VXR: New beginnings &middot; Víctor Ávila</title>

    
    <meta name="description" content="First blog post of the development process of the VXR engine." />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://avilapa.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://avilapa.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://avilapa.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://avilapa.github.io/css/nav.css" />

    

    
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/vs.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
        
        <script>hljs.initHighlightingOnLoad();</script>
    

    
        <link href="http://feeds.feedburner.com/..." rel="alternate" type="application/rss+xml" title="Víctor Ávila" />
    
    <meta name="generator" content="Hugo 0.49" />

    <link rel="canonical" href="https://avilapa.github.io/post/vxr-new-beginnings/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": ,
        "logo": https://avilapa.github.io/images/logo-large.png
    },
    "author": {
        "@type": "Person",
        "name": ,
        
        "image": {
            "@type": "ImageObject",
            "url": https://avilapa.github.io/images/logo-large.png,
            "width": 250,
            "height": 250
        }, 
        
        "url": http://avilapa.github.io,
        "sameAs": [
            
            
             
             
             
             
             
            
        ],
        "description": Videogames programming student and enthusiast
        
    },
    "headline": VXR: New beginnings,
    "name": VXR: New beginnings,
    "wordCount": 698,
    "timeRequired": "PT4M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": https://avilapa.github.io/post/vxr-new-beginnings/,
    "datePublished": 2018-09-01T00:00Z,
    "dateModified": 2018-09-01T00:00Z,
    
    "image": {
        "@type": "ImageObject",
        "url": https://avilapa.github.io//content/images/2018/sep/vxr/new-beginnings.png,
        "width": 3000,
        "height": 1445
    },
    
    "keywords": vxr, engine,
    "description": First blog post of the development process of the VXR engine.,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": https://avilapa.github.io/post/vxr-new-beginnings/
    }
}
    </script>
    


    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-118883750-1', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            <h3>avilapa</h3>
            <li class="nav-opened" role="presentation">
            	<a href="https://avilapa.github.io/">Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://avilapa.github.io/about/">About me</a>
            </li>
        
            <h3>Projects</h3>
            <li class="nav-opened" role="presentation">
            	<a href="https://avilapa.github.io/vxr-engine">VXR Engine</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://avilapa.github.io/fuel-renegades">Fuel Renegades</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://avilapa.github.io/render-engine">Custom Engine</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://feeds.feedburner.com/...">Subscribe</a> </div>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



  
  <header class="main-header post-head" style="background-image: url(/content/images/2018/sep/vxr/new-beginnings.png)">
  
  <nav class="main-nav overlay clearfix">


  
      <a class="blog-logo" href="https://avilapa.github.io/"><img src="https://avilapa.github.io/images/logo-large.png" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">VXR: New beginnings</h1>
        <small>First blog post of the development process of the VXR engine.</small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2018-09-01T00:00:00Z">
            Sep 1, 2018
          </time>
        
         
          <span class="post-tag small"><a href="https://avilapa.github.io//tags/vxr/">#vxr</a></span>
         
          <span class="post-tag small"><a href="https://avilapa.github.io//tags/engine/">#engine</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<p><br></p>

<h3 id="index">Index</h3>

<ul>
<li><a href="#new-beginnings">New beginnings</a>

<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#goals">Goals</a></li>
<li><a href="#the-first-weeks">The first weeks!</a></li>
</ul></li>
<li><a href="#up-next">Up next</a></li>
<li><a href="#references">References</a></li>
</ul>

<h2 id="new-beginnings">New beginnings</h2>

<h3 id="introduction">Introduction</h3>

<p align="justify">
VXR is a project that emerged from the desire to build a general purpose rendering tool that I could use to implement anything I was curious about or wanted to learn about. It was <i>quickly restated</i> and expanded as <b>the tool on which my Bachelor's degree personal project would take form</b> during this next year.
</p>

<p align="justify">
Also, as a personal exercise, I will try to keep this page updated with the development process of the engine.
</p>

<h3 id="goals">Goals</h3>

<p align="justify">
I'm still unsure about which subject I would like to explore in my personal project. I do have however a sense of more or less what is it going to be (still needs aproval from whoever will be tutoring me this project!). Here are some topics I would enjoy trying out for VXR:
</p>

<ul>
<li>Multithreaded agnostical graphics API</li>
<li>Multiple Graphic Backends (such as OpenGL, DirectX, Vulkan&hellip;)</li>
<li>Physically Based Rendering oriented</li>
<li>Exploring Raytracing techniques:

<ul>
<li>GPU Path Tracing</li>
<li>Real Time Raytracing</li>
<li>Hybrid Pipeline / Easily interchangeable Raster-Raytrace drawing</li>
</ul></li>
<li>More advanced Material Editing Visualization tools</li>
</ul>

<p align="justify">
Keep in mind this is a little chaotic, and the scope will be more defined as I choose a topic and have a clearer vision of what can be achieved and what is unrealistic.
</p>

<h3 id="the-first-weeks">The first weeks!</h3>

<p><img src="https://avilapa.github.io/content/images/2018/sep/vxr/new_beginnings/hellotriangle.png", width="100%"/></p>

<p align="justify">
Two weeks have passed since I wrote the first line of code and its been so fun! I am really proud of the results I am achieving and how much I'm learning from just reimplementing things in different ways.
</p>

<p align="justify">
As I've developed a clear joy on graphics and engine programming for the moment I am building a <b>multi-purpose rendering engine</b>, applying all the great stuff I learned from the development of <a href="https://avilapa.github.io/render-engine" target="_blank"><i>UPyDK</i></a>, and avoiding pitfalls and problems found there. Also I have taken <i>great inspiration</i> from the recently released <a href="https://github.com/pplux/px/blob/master/README_px_render.md" target="_blank"><i>Single Header C++ Command Based backend renderer, <b>px_render.h</b></i></a>, which has a really similar mindset and structure to <i>UPyDK</i> (as the developer of <i>px_render.h</i> was actually my teacher!), but is implemented in a way more polished and functional way.
</p>

<p align="justify">
In order to safely try out some new organization in the engine I decided to start coding from known ground and began to make using OpenGL for the rendering (though it's been made really easy to add a new backend).
</p>
<p align="justify">
The main differences so far have been regarding the <b>render commands</b> and the treating of <b>uniform data</b>:
</p>

<p align="justify">
- <b>Render Commands</b>: The amount of render commands has been significantly lowered, as I realized I didn't need so many different commands when less could do the trick quicker and more intuitively for the user. This also reduced memory usage, and made it easier for me to organize the stuff. Multithreading remains the same for now (two syncrhonized threads for logic and render), but the newly added <i>RenderContext</i> structure helps make command data more independent and avoid future possible race conditions.
</p>

<p align="justify">
- <b>Uniform Data</b>: In UPyDK it was a bit uncomfortable to add custom uniforms to new materials. They were always stored in a <i>big vec4 matrix</i>, passed each frame on to each program, and then given a name to each of the <i>vec4 x y z w</i> components in order for the data to be more easily readable. Instead VXR makes use of the <i>OpenGL</i>'s <i><b>Uniform Buffer Objects</b></i>. These are not only easier to use but also more efficient, as the user can define multiple structures and update them only once to be used in multiple <i>programs</i> at a time. With a really simple API, these buffers are declared <i>Static</i> or <i>Dynamic/Stream</i> depending on if they need to be updated each frame or not.
</p>

<p><img src="https://avilapa.github.io/content/images/2018/sep/vxr/new_beginnings/cube.gif", width="100%"/></p>

<p><p align="justify">
As for new things I finally decided on implementing instancing, as with the practical example of <a href="https://github.com/pplux/px/blob/master/README_px_render.md" target="_blank"><i><b>px_render.h</b></i></a> it could be considered a crime not to&hellip;
</p>
<p align="justify">
Quickly after that I added textures to the instancing scene, and thought that it could be nice to keep track of the development of VXR on my blog!
</p>
<img src="https://avilapa.github.io/content/images/2018/sep/vxr/new_beginnings/instancing.gif", width="100%"/></p>

<blockquote>
<blockquote>
<p>That&rsquo;s 45.000 cubes!</p>
</blockquote>
</blockquote>

<h2 id="up-next">Up next</h2>

<p>In exactly three weeks I will be moving to the UK to start my last year of the Bachelor&rsquo;s Degree, so I&rsquo;ll be getting ready for that!</p>

<h2 id="references">References</h2>

<ul>
<li><a href="https://github.com/pplux/px/blob/master/README_px_render.md" target="_blank">px_render.h</a></li>
<li><a href="https://www.khronos.org/opengl/wiki/Uniform_Buffer_Object" target="_blank">OpenGL Uniform Buffer Objects</a></li>
</ul>

    </section>


  <footer class="post-footer">


    








<figure class="author-image">
    <a class="img" href="https://avilapa.github.io/" style="background-image: url(/images/logo-large.png)"><span class="hidden">Víctor Ávila Parcet's Picture</span></a>
</figure>


<section class="author">
  <h4><a href="https://avilapa.github.io/">Víctor Ávila Parcet</a></h4>
  
  <p>Videogames programming student and enthusiast</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Valencia, Spain</span>
    <span class="author-link icon-link"><a href="http://avilapa.github.io">http://avilapa.github.io</a></span>
  </div>
</section>




    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=VXR%3a%20New%20beginnings&nbsp;-&nbsp;V%c3%adctor%20%c3%81vila&amp;url=https%3a%2f%2favilapa.github.io%2fpost%2fvxr-new-beginnings%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2favilapa.github.io%2fpost%2fvxr-new-beginnings%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2favilapa.github.io%2fpost%2fvxr-new-beginnings%2f&amp;description=VXR%3a%20New%20beginnings"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2favilapa.github.io%2fpost%2fvxr-new-beginnings%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script>




var disqus_config = function () {
this.page.url = "https:\/\/avilapa.github.io\/post\/vxr-new-beginnings\/";  
this.page.identifier = "https:\/\/avilapa.github.io\/post\/vxr-new-beginnings\/"; 
};

(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://avilapa-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>








  </footer>
</article>

</main>


  <aside class="read-next">
  
  
      <a class="read-next-story prev" style="background-image: url(/content/images/2018/may/xativa.png)" href="https://avilapa.github.io/post/framerate-independent-physics-in-ue4/">
          <section class="post">
              <h2>Framerate independent physics in UE4</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Víctor Ávila</a> All rights reserved - 2018</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://avilapa.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://avilapa.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://avilapa.github.io/js/index.js"></script>
    
</body>
</html>

